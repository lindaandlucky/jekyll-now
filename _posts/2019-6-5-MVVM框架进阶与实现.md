# MVVM框架介绍

## 详细介绍

M(Model,模型层)

V(View,视图层)

VM(ViewModel,视图模型，V与M连接的桥梁)

MVVM框架实现了数据双向绑定

​       1）当M层数据进行修改时，VM层会检测到变化

​       2）修改V层则会通知M层数据进行修改

​       3）MVVM实现了视图与模型层的相互解耦

![Jietu20190605-164920](/Users/guowenjuan/Desktop/Jietu20190605-164920.jpg)

几种双向绑定的方式：

1）发布-订阅者模式（backbone.js)

   一般通过pub,sub的方式实现数据和视图的绑定，但是使用起来比较麻烦

2）脏值检查（angular.js)

​	angular.js通过脏值检查的方式比对数据是否发生了变更，来解决是否更新视图，类似于通过定时器轮训检查数据是否发生了改变

3）数据劫持

  Vue.js则是采用数据劫持结合发布者-订阅者模式的方式，通过Object.defineProperty()来劫持各个属性的setter,getter，在数据变动时发布消息给订阅者，触发相应的舰艇回调

——vue.js不兼容IE8以下的版本

## Vue实现思路

1）实现一个complie模版解析器，能够对模版中的指令和差值表达式进行解析，并且赋予不同的操作

2）实现一个Observer数据监听器，能够对数据对象的所有属性进行监听

3）实现一个Watcher观察者，将complie的解析结果，与Observer所观察到的对象连接起来，建立关系，在Observer观察到对象数据变化时，接到通知，同时更新Dom

4）创建一个公共的入口对象，接受初始化的配置并且协调上面三个模块，也就是vue